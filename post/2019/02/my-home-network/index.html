<!doctype html><html class=no-js lang=zh-cn><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><title>我自己的家里的网络环境 - SimonDing 的博客</title><script>(function(e,t){e[t]=e[t].replace("no-js","js")})(document.documentElement,"className")</script><meta name=description content><meta property="og:title" content="我自己的家里的网络环境"><meta property="og:description" content="至今在外租房已经有五六年了。每年都升级自己的电子设备，慢慢地也在搭建自己的网络环境。
目前家里的设备：

MacBook Pro一台
小米8手机一部
一台iPad
一台自己搭建的NAS
一个路由器 Netgear WNDR4300
"><meta property="og:type" content="article"><meta property="og:url" content="https://simonding.com/post/2019/02/my-home-network/"><meta property="article:section" content="post"><meta property="article:published_time" content="2019-02-22T00:36:02+08:00"><meta property="article:modified_time" content="2019-02-22T00:36:02+08:00"><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=dns-prefetch href=//fonts.googleapis.com><link rel=dns-prefetch href=//fonts.gstatic.com><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700"><link rel=stylesheet href=/css/style.css><link rel="shortcut icon" href=/favicon.ico><script type=application/javascript>var doNotTrack=!1;doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-106746611-1","auto"),ga("send","pageview"))</script><script async src=https://www.google-analytics.com/analytics.js></script></head><body class=body><div class="container container--outer"><header class=header><div class="container header__container"><div class=logo><a class=logo__link href=/ title="SimonDing 的博客" rel=home><div class="logo__item logo__text"><div class=logo__title>SimonDing 的博客</div><div class=logo__tagline>韶华易逝，只争朝夕</div></div></a></div><nav class=menu><button class=menu__btn aria-haspopup=true aria-expanded=false tabindex=0>
<span class=menu__btn-title tabindex=-1>菜单</span></button><ul class=menu__list><li class=menu__item><a class=menu__link href=/><span class=menu__text>主页</span></a></li><li class=menu__item><a class=menu__link href=/tags/><span class=menu__text>标签</span></a></li><li class=menu__item><a class=menu__link href=https://500px.me/simonding><span class=menu__text>500px</span></a></li><li class=menu__item><a class=menu__link href=/about/><span class=menu__text>关于</span></a></li></ul></nav></div></header><div class="wrapper flex"><div class=primary><main class=main role=main><article class=post><header class=post__header><h1 class=post__title>我自己的家里的网络环境</h1><div class="post__meta meta"><div class="meta__item-datetime meta__item"><svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg><time class=meta__text datetime=2019-02-22T00:36:02+08:00>2019-02-22</time></div><div class="meta__item-categories meta__item"><svg class="meta__icon icon icon-category" width="16" height="16" viewBox="0 0 16 16"><path d="m7 2 1 2h8v11H0V2z"/></svg><span class=meta__text><a class=meta__link href=/categories/%E7%94%9F%E6%B4%BB/ rel=category>生活</a></span></div><span class=meta__text>&emsp; 共 1497 字</span></div></header><div class="post__toc toc"><div class=toc__title>目录</div><div class=toc__menu><nav id=TableOfContents><ul><li><a href=#nas>NAS</a><ul><li><a href=#系统>系统</a></li><li><a href=#nas上搭建的服务>NAS上搭建的服务</a></li><li><a href=#路由器>路由器</a></li></ul></li><li><a href=#总结>总结</a></li></ul></nav></div></div><div class="content post__content clearfix"><p>至今在外租房已经有五六年了。每年都升级自己的电子设备，慢慢地也在搭建自己的网络环境。</p><p>目前家里的设备：</p><ul><li>MacBook Pro一台</li><li>小米8手机一部</li><li>一台iPad</li><li>一台自己搭建的NAS</li><li>一个路由器 Netgear WNDR4300</li></ul><p>自己所有的家庭网络服务都搭建在了NAS和路由器上。最近搬过好多次家，每次搬家都要扔掉好多东西，也有好多东西折旧处理掉了，但是这个NAS和网件的路由器一直还保留着。</p><p>自己组建NAS的好处就是可以花比较少的钱得到性能比较好的硬件，组建NAS的时候我也考虑过购买群晖的NAS，可无奈价格太贵，而且还是arm构架不方便扩展，还是决定要自己组建nas。</p><h2 id=nas>NAS</h2><p>现在我的nas的主要配置是：</p><ul><li>万由的机箱，除系统盘外，有两个3.5英寸硬盘位</li><li>板载被动散热的J1900 CPU的主板</li><li>4G DDR3内存（从原来笔记本上拆下来的）</li><li>3TB硬盘，目前只有一块硬盘</li></ul><h3 id=系统>系统</h3><p>之前尝试了好多nas系统，都不是太满意，最后还是选择了在debian系统上自己搭建需要的服务。获得最大的灵活性。</p><p>先后尝试了的nas系统如下：</p><ul><li>OpenMediaVault</li></ul><p>第一个尝试的nas系统。debian based。各种插件也算比较丰富。</p><p>可是我发现我自己总是用不过它的web管理界面。而且有时候我喜欢用命令行操作一些东西，命令行操作容易使web管理界面出问题。还有就是它用的的debian系统比较老，个人比较喜欢稍微新一点的系统。由于以上的原因，最后还是放弃了这个发行版</p><ul><li>Rockstor</li></ul><p>第一次听说这个发型版的时候还挺激动的，CentOS based、现代的web管理界面、使用最新的CentOS版本、开发也比较活跃。</p><p>于是我试了一下，可是由于是比较新的发行版，各种bug还比较多，web界面经常会直接罢工掉，遂作罢</p><ul><li>FreeNAS</li></ul><p>老牌nas系统，稳定牛逼，可是硬件要求8G内存起步，没有这么多内存，而且自己也不熟悉bsd系统，就不去折腾了。</p><p>另外还有一些其他的小众系统，unRAID、nas4free等等，没有太多吸引我的地方。当然还可以选择黑群辉，但是太折腾了，就不想搞了。</p><p>本着自己动手，风衣足食的态度，还是自己手动搭建需要的服务吧。</p><h3 id=nas上搭建的服务>NAS上搭建的服务</h3><p>来来回回在nas先后尝试了好多服务，现在依然在保留的：</p><ol><li>transmission bt下载器，自己集成了<a href=https://github.com/ronggang/transmission-web-control>Transmission Web Control</a>更好的webUI</li><li>Plex流媒体服务，用来看电视剧和电影的，但是发现自己用的并不是很多，现在主要是靠afp共享文件夹的形式访问nas的文件的</li><li>Sonarr电视剧下载服务，用来追剧的</li><li>aria2，用来下载东西</li><li>AFP服务器，共享文件用的。samba更通用些，但是最近改用了苹果电脑，所以尝试了用afp协议共享文件了</li><li>Time Machine服务器，用来备份Mac电脑的。前一段时间去修了次电脑，系统被重置了，然后就用Time Machine重新恢复成了和原来一模一样。极力推荐的一个服务，谁用说说好 :-)</li></ol><h3 id=路由器>路由器</h3><p>由于有了nas，路由器上就没有建太多服务了。</p><ul><li>ss翻墙</li><li>NAS电源管理的服务</li></ul><p>翻墙服务不用说了，居家旅行必备。</p><p>主要说一下NAS电源管理的服务。我白天要去上班，大部分时间是不在家的，NAS一直开着总感觉很浪费。于是我用Go语言写了个小程序，用来实现我离开家了时候把NAS关机，我回到家后把NAS打开。😆</p><p>具体实现原理很简单，就是检测我的手机有没有连到家里的无线网，有的话说明我在家就用Wake-On-Lan方式打开NAS；如果手机不在网络里的话，就ssh到nas上把nas关掉。</p><p>这个功能虽然很简单，但我却感觉超级自豪！第一次用程序解决了自己生活中的问题！</p><h2 id=总结>总结</h2><p>家里的网络环境大概就是这样。写这篇文章的原因是自己刚在京东下单了一台华硕路由器(AC66U B1)，想借这个机会总结下家里的网络情况，也许也能对别人有所帮助</p></div></article></main><div class="authorbox clearfix"><figure class=authorbox__avatar><img alt="Simon Ding avatar" src=/img/avatar.png class=avatar height=90 width=90></figure><div class=authorbox__header><span class=authorbox__name>关于 Simon Ding</span></div><div class=authorbox__description>韶华易逝，只争朝夕</div></div><section class=comments><script src=https://utteranc.es/client.js repo=simon-ding/blog-comment issue-term=pathname theme=github-light crossorigin=anonymous async></script></section></div></div><footer class=footer><div class="container footer__container flex"><div class=footer__copyright>&copy; 2022 Simon Ding.
<span class=footer__copyright-credits>基于 <a href=https://gohugo.io/ rel="nofollow noopener" target=_blank>Hugo</a> 引擎和 <a href=https://github.com/Vimux/Mainroad/ rel="nofollow noopener" target=_blank>Mainroad</a> 主题</span></div></div></footer></div><script async defer src=/js/menu.js></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.6/MathJax.js?config=TeX-AMS-MML_HTMLorMML" async></script></body></html>