<!doctype html><html class=no-js lang=en>
<head>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1">
<meta http-equiv=x-ua-compatible content="IE=edge">
<title>我抛弃了zsh，拥抱了fish - SimonDing 的博客</title>
<script>(function(a,b){a[b]=a[b].replace("no-js","js")})(document.documentElement,"className")</script>
<meta name=description content>
<meta property="og:title" content="我抛弃了zsh，拥抱了fish">
<meta property="og:description" content="最近花了好几天时间来配置自己的shell。尝试了很多东西都不是很满意，最后决定还是fish shell。 zsh zsh有点主要有一下几点： 丰富而强大">
<meta property="og:type" content="article">
<meta property="og:url" content="https://simonding.com/post/2019/05/zsh-fish/"><meta property="article:section" content="post">
<meta property="article:published_time" content="2019-05-19T00:37:50+08:00">
<meta property="article:modified_time" content="2019-05-19T00:37:50+08:00">
<link rel=dns-prefetch href=//fonts.googleapis.com>
<link rel=dns-prefetch href=//fonts.gstatic.com>
<link rel=stylesheet href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">
<link rel=stylesheet href=/css/style.css>
<link rel=stylesheet href=/css/custom.css>
<link rel="shortcut icon" href=/favicon.ico>
<script type=application/javascript>var doNotTrack=!1;doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga('create','UA-106746611-1','auto'),ga('send','pageview'))</script>
<script async src=https://www.google-analytics.com/analytics.js></script>
</head>
<body class=body>
<div class="container container--outer">
<header class=header>
<div class=container>
<div class=logo>
<a class=logo__link href=/ title="SimonDing 的博客" rel=home>
<div class=logo__title>SimonDing 的博客</div>
<div class=logo__tagline>韶华易逝，只争朝夕</div>
</a>
</div>
<nav class=menu>
<button class=menu__btn aria-haspopup=true aria-expanded=false tabindex=0>
<span class=menu__btn-title tabindex=-1>菜单</span>
</button>
<ul class=menu__list>
<li class=menu__item>
<a class=menu__link href=/>
<span class=menu__text>主页</span>
</a>
</li>
<li class=menu__item>
<a class=menu__link href=https://www.instagram.com/simon_ding_/ target=_blank>
<span class=menu__text>Instagram</span>
</a>
</li>
<li class=menu__item>
<a class=menu__link href=https://500px.me/simonding target=_blank>
<span class=menu__text>500px</span>
</a>
</li>
<li class=menu__item>
<a class=menu__link href=/about/>
<span class=menu__text>关于</span>
</a>
</li>
</ul>
</nav>
</div>
</header>
<div class="wrapper flex">
<div class=primary>
<main class=main role=main>
<article class=post>
<header class=post__header>
<h1 class=post__title>我抛弃了zsh，拥抱了fish</h1>
<div class="post__meta meta">
<div class="meta__item-datetime meta__item"><svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg>
<time class=meta__text datetime=2019-05-19T00:37:50>2019-05-19</time>
</div>
<div class="meta__item-categories meta__item"><svg class="meta__icon icon icon-category" width="16" height="16" viewBox="0 0 16 16"><path d="m7 2 1 2h8v11H0V2z"/></svg>
<span class=meta__text><a class=meta__link href=/categories/%E7%BC%96%E7%A8%8B/ rel=category>编程</a>
</span>
</div><span class=meta__text>&emsp; 共 1060 字 </span>
</div>
</header>
<div class="post__toc toc">
<div class=toc__title>目录</div>
<div class=toc__menu>
<nav id=TableOfContents>
<ul>
<li>
<ul>
<li><a href=#丰富而强大的插件>丰富而强大的插件</a></li>
<li><a href=#语法兼容bash>语法兼容bash</a></li>
<li><a href=#用户基数大>用户基数大</a></li>
</ul>
</li>
<li><a href=#fish介绍>fish介绍</a>
<ul>
<li><a href=#抛弃zsh切换到fish>抛弃zsh，切换到fish</a></li>
<li><a href=#fish配置>fish配置</a></li>
</ul>
</li>
</ul>
</nav>
</div>
</div>
<div class="content post__content clearfix">
<p>最近花了好几天时间来配置自己的shell。尝试了很多东西都不是很满意，最后决定还是fish shell。</p>
<h1 id=zsh>zsh</h1>
<p>zsh有点主要有一下几点：</p>
<h3 id=丰富而强大的插件>丰富而强大的插件</h3>
<p>oh-my-zsh（下面简称omz）, prezto, aitigen, antibody, zgen, zplug等各种插件解决方案，丰富到让人选择困难，更别提其各自支持的插件数量。其中最后有名的omz自带的插件就达到上百种之多，一切想要的功能，几乎都能在上面找到。就算一些没有支持的插件，也很容易通过第三方插件的形式加入到omz当中。各种功能，不可谓不丰富。</p>
<p>然后丰富的功能带来的问题是，随着加载的各个插件的增多，zsh的运行也越来越慢。在加载了四五个插件之后，打开一个新的zsh窗口，在我这个2017年的macbook pro当中也需要3s左右时间。更别提每次换行肉眼可见的延迟。</p>
<p>使用zsh就是为了其丰富的插件，然后加载过多的插件势必造成zsh运行的缓慢。包括其余生成可以提过zsh加载速度的方案（zgen、prezto等），一定程度上都存在这个问题。</p>
<h3 id=语法兼容bash>语法兼容bash</h3>
<p>zsh是兼容bash的语法的，为bash写的脚本可以很容易运行在zsh上。</p>
<h3 id=用户基数大>用户基数大</h3>
<p>不得不说使用zsh的人真的很多，网上各种介绍zsh的文章，各种为zsh写的插件。很多服务提供的shell脚本也会提供zsh的一版。</p>
<h2 id=fish介绍>fish介绍</h2>
<h3 id=抛弃zsh切换到fish>抛弃zsh，切换到fish</h3>
<p>zsh固然有各种好处，耐不住太实在太卡。用起来很影响体验。</p>
<p>对于fish很久之前就用过几次，然而都没有长时间使用过。fish相比zsh开箱即用，自带很多常用命令的补全，而且支持语法高亮和根据历史记录自动建议命令行。这种功能也可以在zsh上实在，要装上zsh-autosuggestions和zsh-syntax-highlighting，不过这两个插件都很重量级，装上之后zsh就会卡很多，这也是这次我想要换fish的主要原因。</p>
<p>fish的语法高亮和自动命令补全真的很好用，很多时候都不用一点点把命令打完整，fish会自动根据你的历史记录，给出可能的命令行，相当好用。</p>
<h3 id=fish配置>fish配置</h3>
<p>既然决定要用fish shell，也需要好好配置一番，使其更合乎自己的使用习惯。由于zsh的经验，决定不再使用第三方插件管理（fish也有和omz相对应的oh-my-fish (omf) ，也有单独的插件管理工具fisher，相当于zsh的antigen)，自己搜索网上的配置文件，参考别人的实践，手写自己的fish配置。</p>
<p>fish的配置已经上传到了guthub, 哈哈 :<a href=https://github.com/simon-ding/dotfiles>dotfiles</a></p>
<p>主要配置了常用的函数，一些alias，还有装了fasd和fzf用来跳转和搜索文件。</p>
</div>
</article>
</main>
<div class="authorbox clearfix">
<figure class=authorbox__avatar>
<img alt="Simon Ding avatar" src=/img/avatar.png class=avatar height=90 width=90>
</figure>
<div class=authorbox__header>
<span class=authorbox__name></span>
</div>
<div class=authorbox__description>
韶华易逝，只争朝夕
</div>
</div>
<nav class="post-nav flex">
<div class="post-nav__item post-nav__item--prev">
<a class=post-nav__link href=/post/2019/05/spring-boot-elk/ rel=prev><span class=post-nav__caption>«&#8201;上一篇</span><p class=post-nav__post-title>spring boot项目集成elk收集项目日志</p></a>
</div>
<div class="post-nav__item post-nav__item--next">
<a class=post-nav__link href=/post/2019/09/go-gui/ rel=next><span class=post-nav__caption>下一篇&#8201;»</span><p class=post-nav__post-title>go 语言 gui 库现状 2019</p></a>
</div>
</nav>
<section class=comments>
<script src=https://utteranc.es/client.js repo=simon-ding/blog-comment issue-term=pathname theme=github-light crossorigin=anonymous async></script>
</section>
</div>
</div>
<footer class=footer>
<div class="container footer__container flex">
<div class=footer__copyright>
&copy; 2021 Simon Ding.
<span class=footer__copyright-credits>基于 <a href=https://gohugo.io/ rel="nofollow noopener" target=_blank>Hugo</a> 引擎和 <a href=https://github.com/Vimux/Mainroad/ rel="nofollow noopener" target=_blank>Mainroad</a>主題</span>
</div>
<script async src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js></script>
<span id=busuanzi_container_site_pv>本站总访问量<span id=busuanzi_value_site_pv></span>次</span>
</div>
</footer>
</div>
<script async defer src=/js/menu.js></script>
<script src=/js/custom.js></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.6/MathJax.js?config=TeX-AMS-MML_HTMLorMML" async></script>
</body>
</html>